@model AgriculturaWeb.Models.Usuario

@{
    ViewBag.Title = "Editar Usuario";
    var roles = ViewBag.Roles as List<AgriculturaWeb.Models.Rol>;
}

<h2><i class="fa-solid fa-user-pen text-primary"></i> Editar Usuario</h2>
<hr />

@using (Html.BeginForm("Edit", "Usuarios", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.IdUsuario)

    <div class="card shadow-sm p-4 mt-3">
        <div class="mb-3">
            <label class="form-label">Nombre Completo</label>
            @Html.TextBoxFor(m => m.Nombre, new { @class = "form-control", placeholder = "Ingrese nombre completo" })
        </div>

        <div class="mb-3">
            <label class="form-label">Nombre de Usuario</label>
            @Html.TextBoxFor(m => m.NombreUsuario, new { @class = "form-control", placeholder = "Ingrese nombre de usuario" })
        </div>

        <div class="mb-3">
            <label class="form-label">Contraseña</label>
            @Html.PasswordFor(m => m.Contrasena, new { @class = "form-control", placeholder = "Ingrese contraseña" })
        </div>

        <div class="mb-3">
            <label class="form-label">Rol</label>
            <select name="IdRol" class="form-select">
                @foreach (var r in roles)
                {
                    <option value="@r.IdRol" @(r.IdRol == Model.IdRol ? "selected" : "")>@r.Nombre</option>
                }
            </select>
        </div>

        <div class="d-flex justify-content-between mt-4">
            <a href="@Url.Action("Index")" class="btn btn-secondary">
                <i class="fa-solid fa-arrow-left"></i> Volver
            </a>
            <button type="submit" class="btn btn-primary">
                <i class="fa-solid fa-save"></i> Guardar Cambios
            </button>
        </div>
    </div>
}
